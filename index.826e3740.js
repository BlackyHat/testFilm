!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in l)return l[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return l[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o);var a=o("fxMCL"),i=o("8MBJY"),s=o("a2hTj"),c=o("hKHmD"),r=function(){"use strict";function t(){var l=this;e(i)(this,t),e(c)(this,"addListenerOnClickClose",(function(){var e=l;l.modal.addEventListener("click",(function(t){(t.target.classList.contains("js-modal")||t.target.classList.contains("modal__icon"))&&e.closeModal()}))})),e(c)(this,"addListenerOnKeyClose",(function(){document.addEventListener("keydown",l.onKeyClose)})),e(c)(this,"onKeyClose",(function(e){"Escape"===e.code&&(l.closeModal(),document.removeEventListener("keydown",l.onKeyClose))})),e(c)(this,"closeModal",(function(){l.modal.remove()})),this.modalBackdrop="",this.modalBox="",this.modal=""}return e(s)(t,[{key:"createModal",value:function(){document.querySelector(".js-modal")||(document.querySelector("main").insertAdjacentHTML("beforeend",'<div class="js-modal modal">\n        <div class="js-modal__box modal__box">\n          <button class="modal__icon link button">\n            </button>\n        </div>\n      </div >'),this.modal=document.querySelector(".js-modal"),this.modalBox=document.querySelector(".js-modal__box"))}}]),t}(),d=(i=o("8MBJY"),c=o("hKHmD"),new(0,a.FilmsApiService)),u=new r,m=(new function t(){"use strict";e(i)(this,t),e(c)(this,"getStorage",(function(e){try{var t=localStorage.getItem(e),l=JSON.parse(t);return l||[]}catch(e){console.log(e)}})),e(c)(this,"setStorage",(function(e,t){localStorage.setItem(e,t)})),e(c)(this,"save",(function(e,t){try{var l=JSON.stringify(t);localStorage.setItem(e,l)}catch(e){console.error("Set state error: ",e.message)}})),e(c)(this,"load",(function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}))},"https://image.tmdb.org/t/p/w500/"),f={gallery:document.querySelector(".gallery"),spinner:document.querySelector(".loading")};f.gallery.addEventListener("click",(function(e){if(e.preventDefault(),e.target.closest("li.gallery__item")){var t=e.target.closest("li");u.createModal(),u.addListenerOnClickClose(),u.addListenerOnKeyClose(),d.movieId=t.id,d.getInfoApi().then((function(e){e&&function(e){var t=e.original_title,l=e.poster_path,n=e.title,o=e.vote_average,a=e.vote_count,i=e.overview,s=e.genres,c=e.popularity,r=e.id;({original_title:t,id:r,poster_path:l,title:n,vote_average:o,vote_count:a,overview:i,genres:s,popularity:c});var d='\n      <div class="film-detail">\n    <img class="film-detail__poster" src="'.concat(m+l,'" alt="').concat(n,'">\n    <h3 class="film-detail__title">').concat(n,'</h3>\n    <div class="film-detail__info">\n    <ul class="film-detail__labels list">\n        <li>\n            <p class="film-detail__label">Vote / Votes</p>\n            </li>\n            <li>\n            <p class="film-detail__label">Popularity</p>\n            </li>\n            <li>\n            <p class="film-detail__label">Original Title</p>\n            </li>\n            <li>\n            <p class="film-detail__label">Genre</p>\n        </li>\n    </ul>\n        <ul class="film-detail__data list">\n        <li>\n        <p class="film-detail__meta del"><span class="vote">').concat(o.toFixed(1),'</span> / <span class="votes">').concat(a.toFixed(),'</span></p>\n            </li>\n            <li>\n            <p class="film-detail__meta">').concat(c.toFixed(1),'</p>\n            </li>\n            <li>\n            <p class="film-detail__meta title">').concat(t,'</p>\n            </li>\n            <li>\n            <p class="film-detail__meta">').concat(s[0].name,'</p>\n        </li>\n    </ul>\n</div>\n\n    <h4 class="film-detail__about">ABOUT</h4>\n    <p class="film-detail__overview">').concat(i,'</p>\n    <ul class="film-detail buttons">\n        <li><button type="button" class="film-detail__link" data-action="watched">add to Watched</button>\n        </li>\n        <li><button  type="button" class="film-detail__link" data-action="queue">add to queue</button>\n        </li>\n    </ul>\n</div>');u.modalBox.innerHTML+=d}(e)})),f.modalBox=document.querySelector(".js-modal__box"),f.modalBox.addEventListener("click",(function(e){e.target.nodeName}))}}))}();
//# sourceMappingURL=index.826e3740.js.map
